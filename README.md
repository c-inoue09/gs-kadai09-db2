# 「イークラウド メディアリスト」
## ①課題内容（どんな作品か）
### 前提
- 井上の業務のひとつに「広報」があります。
- 新聞、雑誌、Webメディアなど、色々な媒体の記者とやり取りをし、スプレッドシートに記者の情報や、接触履歴を記載しています。そして我ながらこの管理方法が絶望的にイケていません。
- 脱スプシ・データベース化できれば、減らせる機会損失が絶対あると思うので、作ってみようと思いました。

- 現在の業務プロセスは以下
  - 記者と名刺交換をする
  - Googleスプレッドシートに転記する
  - 折に触れて見返したり見返さなかったりする

### 機能
- 「メディア一覧」「記者一覧」ビューがあり、それぞれに登録できる
- 記者登録時には、所属メディア名を「メディア一覧」の登録項目から選択できる

## ②工夫した点・こだわった点
- 「メディア一覧」「記者一覧」のテーブルを分割
  - メリット(まえたつさん受け売り)
    - テーブルがわかれてたほうが、たぶん後々メンテナンスが楽
    - 1つのメディアに複数の記者が紐づく場合などにべんり

- 他テーブルの入力内容を選択肢としてプルダウン表示
  - 「メディア」として登録した内容を、「記者」登録時にプルダウンで選べるようにした
  - ぱっと見、テーブルどうしが連携しているように見える(実際はキーでつなげる段までいってない、後述)

## ③難しかった点・次回トライしたいこと(又は機能)
### 難しかったこと・シェア
-  キーを照合したテーブル紐付けができていない
   - これができれば、一番やりたかった接触履歴管理が実現できるはず
   - いちおうググってはみたが、クラスやPDOなど 前段の理解が甘くて歯が立たず、今回はここまでになった

- こんな機能ほしい
  - API使ったワークフロー機能(接触から一定期間が開くとSlack通知など)
  - メディアは手動登録する意味がないので、なんらかのAPIでとってこれると良い
  - 記事掲載実績データベース(これもスプシ運用)もくっつけて、記者と記事を紐付けたい

### 感想
-  Bootstrap is 何
   -  講義の課題を改造して作りました。スタイルシートを覗いて、(これはわからん)とそっ閉じし、今回はデザイン一切いじっていません。
   -  しかし、便利そうなのでbootstrapをなにかのタイミングで理解したいとは思っています。

- 電話番号を格納するときのデータ型はINTじゃなくてVARCHAR推奨なの、理解はできるけどキモチワルイなと思います。

###  参考記事
- PHP
  - [MySQLで先頭のゼロを消さずにINTで数値を格納する方法](https://www.materialpot.com/mysql/unsigned_zerofill/)
  - [MySQLで “xxx doesn’t have a default value”とエラーが表示されたときの対処法](https://qiita.com/seltzer/items/3096f0805440bfa19bff)
  - [mysqlのエラーSQLSTATE[HY093]について](http://rarirurelog.com/sql/sql-err-hy093/)
  - [Incorrect integer value: for column xxxx a t row 1 に対処](https://office-obata.com/report/memorandum/post-915/)
  - [PHPでプルダウンメニューを作ろう！簡単解説で速攻理解](https://www.sejuku.net/blog/79855)
  - [【PHP】プルダウンの選択情報をDBから取得したい](https://teratail.com/questions/345929)
  - [foreach文](https://www.javadrive.jp/php/for/index8.html)

- HTML 
  - [<select>: HTML 選択要素](https://developer.mozilla.org/ja/docs/Web/HTML/Element/select)
